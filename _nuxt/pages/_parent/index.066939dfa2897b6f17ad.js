webpackJsonp([3],{"8LcR":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"filter"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"level"},[s("div",{staticClass:"level-item"},[s("button",{staticClass:"filter-button",class:{active:this.categories.informacao},on:{click:function(e){t.filterByCat("informacao")}}}),s("span",{staticClass:"filter-category"},[t._v("Informação")])]),s("div",{staticClass:"level-item"},[s("button",{staticClass:"filter-button",class:{active:this.categories.inspiracao},on:{click:function(e){t.filterByCat("inspiracao")}}}),s("span",{staticClass:"filter-category"},[t._v("Inspiração")])]),s("div",{staticClass:"level-item"},[s("button",{staticClass:"filter-button",class:{active:this.categories.reflexao},on:{click:function(e){t.filterByCat("reflexao")}}}),s("span",{staticClass:"filter-category"},[t._v("Reflexão")])]),s("div",{staticClass:"level-item"},[s("button",{staticClass:"filter-button",class:{active:this.categories.distraccao},on:{click:function(e){t.filterByCat("distraccao")}}}),s("span",{staticClass:"filter-category"},[t._v("Distracção")])])])])]),t.loaded?s("div",{staticClass:"container"},[s("transition-group",{staticClass:"columns is-multiline",attrs:{tag:"div",name:"fade",id:"posts"}},t._l(t.filteredPosts,function(t,e){return s("post",{key:t.id,tag:"post",staticClass:"column is-4-desktop is-4-tablet is-12-mobile",attrs:{post:t,index:e}})}))],1):s("div",{staticClass:"container"},[t._m(0)])])};i._withStripped=!0;var a={render:i,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner"},[e("div",{staticClass:"bounce1"}),e("div",{staticClass:"bounce2"}),e("div",{staticClass:"bounce3"})])}]};e.a=a},"8iCm":function(t,e,s){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._m(0),e("shifter-filter",{attrs:{posts:this.posts}}),e("load-more",{attrs:{type:"category",slug:this.category}})],1)};i._withStripped=!0;var a={render:i,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("h2",[this._v("Digital")])])}]};e.a=a},B94I:function(t,e,s){"use strict";var i=s("uvPf"),a=s("8LcR"),n=!1;var r=function(t){n||s("blei")},o=s("VU/8")(i.a,a.a,!1,r,null,null);o.options.__file="components/Filter.vue",e.a=o.exports},JAyE:function(t,e,s){"use strict";var i=s("//Fk"),a=s.n(i),n=s("B94I"),r=s("Z6KV");s("BI4d");e.a={components:{"shifter-filter":n.a,"load-more":r.a},head:function(){return{title:"Shifter | "+this.$route.params.parent.toUpperCase(),meta:[{hid:"description",name:"description",content:"Shifter | "+this.$route.params.parent.toUpperCase()}]}},validate:function(t){return"string"==typeof t.params.parent},fetch:function(t){var e=t.store,s=t.params,i=t.app,n=t.error,r=s.parent,o=e.getters["entities/categories/query"]().where(function(t){return t.slug==r}).first(),c=e.getters["entities/posts/query"]().where(function(t){return-1!=t.categories.indexOf(o.id)});if(null===o||c.count()<15)return i.$api.fetchPostsByCategory(r,1).then(function(t){return e.dispatch("entities/posts/insertOrUpdate",{data:t.posts}).then(function(s){return a.a.all([e.commit("entities/posts/setActivePosts",s.posts),e.dispatch("entities/categories/incrementPage",t.category.id)])})}).catch(function(t){n({statusCode:404,message:"Category not found"})});var u=c.get();return e.commit("entities/posts/setActivePosts",u)},computed:{posts:function(){var t=this.$store.state.entities.posts.activeCollection;return this.$store.getters["entities/posts/query"]().with("author|categories").where(function(e){return-1!=t.indexOf(e.id)}).orderBy("date","desc").get()},category:function(){return this.$route.params.parent}}}},L4ZE:function(t,e,s){"use strict";var i=s("aVlU"),a=s("iW/H"),n=s("VU/8")(i.a,a.a,!1,null,null,null);n.options.__file="components/posts/Post.vue",e.a=n.exports},Uttn:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("JAyE"),a=s("8iCm"),n=s("VU/8")(i.a,a.a,!1,null,null,null);n.options.__file="pages/_parent/index.vue",e.default=n.exports},Yg99:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"load-more"}},[this.loading?s("div",[t._m(0)]):s("a",{attrs:{id:"load-more-button"},on:{click:function(e){t.loadMore()}}},[t._v("Carregar mais")])])};i._withStripped=!0;var a={render:i,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner"},[e("div",{staticClass:"bounce1"}),e("div",{staticClass:"bounce2"}),e("div",{staticClass:"bounce3"})])}]};e.a=a},Z6KV:function(t,e,s){"use strict";var i=s("tG8p"),a=s("Yg99"),n=!1;var r=function(t){n||s("xQnp")},o=s("VU/8")(i.a,a.a,!1,r,null,null);o.options.__file="components/posts/LoadMore.vue",e.a=o.exports},aVlU:function(t,e,s){"use strict";var i=s("+Vl3");e.a={props:["post"],filters:{formatDate:function(t){return Object(i.a)(t,"d mmmm, yyyy")}},computed:{routeLink:function(){return"/"+Object(i.a)(this.post.date,"yyyy/mm/")+this.post.slug}}}},blei:function(t,e){},"iW/H":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post"},[s("nuxt-link",{attrs:{to:t.routeLink}},[s("figure",{staticClass:"image is-3by2"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.post.thumbnail,expression:"post.thumbnail"}],attrs:{alt:t.post.title}})])]),s("div",{staticClass:"post-content"},[s("div",{staticClass:"post-categories"}),s("a",[s("h3",{domProps:{innerHTML:t._s(t.post.title)}})]),s("div",{staticClass:"post-meta"},[t._v("\n        "+t._s(t._f("formatDate")(t.post.date))+" /\n        "),s("a",{staticClass:"post-author",domProps:{innerHTML:t._s(t.post.author.name)}})])])],1)};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a},tG8p:function(t,e,s){"use strict";var i=s("//Fk"),a=s.n(i);e.a={props:{type:{type:String,default:"main"},slug:{type:String,default:void 0}},data:function(){return{loading:!1}},methods:{loadMore:function(){this.loading=!0;var t=this,e=t.$store,s=t.$api;switch(t.type){case"category":var i=e.getters["entities/categories/query"]().where(function(e){return e.slug==t.slug}).first();return s.fetchPostsByCategory(i.slug,i.page+1).then(function(t){return e.dispatch("entities/posts/insertOrUpdate",{data:t.posts})}).then(function(t){return a.a.all([e.commit("entities/posts/pushToActivePosts",t.posts),e.dispatch("entities/categories/incrementPage",i.id)])}).then(function(){return t.loading=!1}).catch(function(e){return t.loading=!1,console.log(e),alert(e.message)});case"author":var n=e.getters["entities/authors/query"]().where(function(e){return e.slug==t.slug}).first();return s.fetchPostsByAuthor(n.slug,n.page+1).then(function(t){return e.dispatch("entities/posts/insertOrUpdate",{data:t.posts})}).then(function(t){return a.a.all([e.commit("entities/posts/pushToActivePosts",t.posts),e.dispatch("entities/authors/incrementPage",n.id)])}).then(function(){return t.loading=!1}).catch(function(e){return t.loading=!1,console.log(e),alert(e.message)});default:var r=e.state.entities.posts.page;return s.fetchPosts(r+1).then(function(t){return e.dispatch("entities/posts/insert",{data:t})}).then(function(t){return a.a.all([e.commit("entities/posts/setMainPosts",t.posts),e.commit("entities/posts/incrementPage")])}).then(function(){return t.loading=!1}).catch(function(t){console.error(t)})}}}}},uvPf:function(t,e,s){"use strict";var i=s("/5sW"),a=s("L4ZE");e.a={props:["posts"],data:function(){return{categories:{informacao:!1,inspiracao:!1,reflexao:!1,distraccao:!1},n_active_categories:0}},methods:{filterByCat:function(t){this.categories[t]?(i.default.set(this.categories,t,!1),this.n_active_categories--):(i.default.set(this.categories,t,!0),this.n_active_categories++,4==this.n_active_categories&&(this.categories={informacao:!1,inspiracao:!1,reflexao:!1,distraccao:!1},this.n_active_categories=0))}},components:{post:a.a},computed:{loaded:function(){return this.posts.length>0},data:function(){return this.posts},filteredPosts:function(){var t=this.posts;if(0==this.n_active_categories)return t;var e=this;return t.filter(function(t){return t.categories.some(function(t){return t.slug in e.categories&&e.categories[t.slug]})})}}}},xQnp:function(t,e){}});