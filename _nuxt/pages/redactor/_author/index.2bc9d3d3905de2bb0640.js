webpackJsonp([2],{"+5Q4":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("vEr0"),i=e("MMxH"),r=!1;var n=function(t){r||e("3oMC")},o=e("VU/8")(a.a,i.a,!1,n,null,null);o.options.__file="pages/redactor/_author/index.vue",s.default=o.exports},"3oMC":function(t,s){},"8LcR":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{attrs:{id:"filter"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"level"},[e("div",{staticClass:"level-item"},[e("button",{staticClass:"filter-button",class:{active:this.categories.informacao},on:{click:function(s){t.filterByCat("informacao")}}}),e("span",{staticClass:"filter-category"},[t._v("Informação")])]),e("div",{staticClass:"level-item"},[e("button",{staticClass:"filter-button",class:{active:this.categories.inspiracao},on:{click:function(s){t.filterByCat("inspiracao")}}}),e("span",{staticClass:"filter-category"},[t._v("Inspiração")])]),e("div",{staticClass:"level-item"},[e("button",{staticClass:"filter-button",class:{active:this.categories.reflexao},on:{click:function(s){t.filterByCat("reflexao")}}}),e("span",{staticClass:"filter-category"},[t._v("Reflexão")])]),e("div",{staticClass:"level-item"},[e("button",{staticClass:"filter-button",class:{active:this.categories.distraccao},on:{click:function(s){t.filterByCat("distraccao")}}}),e("span",{staticClass:"filter-category"},[t._v("Distracção")])])])])]),t.loaded?e("div",{staticClass:"container"},[e("transition-group",{staticClass:"columns is-multiline",attrs:{tag:"div",name:"fade",id:"posts"}},t._l(t.filteredPosts,function(t,s){return e("post",{key:t.id,tag:"post",staticClass:"column is-4-desktop is-4-tablet is-12-mobile",attrs:{post:t,index:s}})}))],1):e("div",{staticClass:"container"},[t._m(0)])])};a._withStripped=!0;var i={render:a,staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"spinner"},[s("div",{staticClass:"bounce1"}),s("div",{staticClass:"bounce2"}),s("div",{staticClass:"bounce3"})])}]};s.a=i},B94I:function(t,s,e){"use strict";var a=e("uvPf"),i=e("8LcR"),r=!1;var n=function(t){r||e("blei")},o=e("VU/8")(a.a,i.a,!1,n,null,null);o.options.__file="components/Filter.vue",s.a=o.exports},L4ZE:function(t,s,e){"use strict";var a=e("aVlU"),i=e("iW/H"),r=e("VU/8")(a.a,i.a,!1,null,null,null);r.options.__file="components/posts/Post.vue",s.a=r.exports},MMxH:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"container",attrs:{id:"author-container"}},[e("div",{staticClass:"level"},[e("div",{staticClass:"level-left",attrs:{id:"author-avatar-container"}},[e("figure",{staticClass:"image is-128x128"},[e("img",{staticClass:"is-rounded",attrs:{id:"author-avatar",src:t.author.avatar,alt:t.author.name}})])]),e("div",{staticClass:"level-item has-text-left",attrs:{id:"author-meta"}},[e("div",[e("h2",[t._v(t._s(t.author.name))]),e("p",[t._v(" "+t._s(t.author.description))]),e("div",{attrs:{id:"author-social-container"}},[t.author.facebook.length>0?e("a",{staticClass:"author-social",attrs:{href:"#"}},[e("i",{staticClass:"fab fa-facebook",attrs:{"data-fa-mask":"fas fa-circle"}})]):t._e(),t.author.twitter.length>0?e("a",{staticClass:"author-social",attrs:{href:"#"}},[t.author.twitter.length>0?e("i",{staticClass:"fab fa-twitter",attrs:{"data-fa-mask":"fas fa-circle"}}):t._e()]):t._e(),t.author.instagram.length>0?e("a",{staticClass:"author-social",attrs:{href:"#"}},[t.author.instagram.length>0?e("i",{staticClass:"fab fa-instagram ",attrs:{"data-fa-mask":"fas fa-circle"}}):t._e()]):t._e(),t.author.linkedin.length>0?e("a",{staticClass:"author-social",attrs:{href:"#"}},[t.author.linkedin.length>0?e("i",{staticClass:"fab fa-linkedin",attrs:{"data-fa-mask":"fas fa-circle"}}):t._e()]):t._e()])])])])]),e("shifter-filter",{attrs:{posts:t.posts}}),e("load-more",{attrs:{type:"author",slug:t.author.slug}})],1)};a._withStripped=!0;var i={render:a,staticRenderFns:[]};s.a=i},Yg99:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"load-more"}},[this.loading?e("div",[t._m(0)]):e("a",{attrs:{id:"load-more-button"},on:{click:function(s){t.loadMore()}}},[t._v("Carregar mais")])])};a._withStripped=!0;var i={render:a,staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"spinner"},[s("div",{staticClass:"bounce1"}),s("div",{staticClass:"bounce2"}),s("div",{staticClass:"bounce3"})])}]};s.a=i},Z6KV:function(t,s,e){"use strict";var a=e("tG8p"),i=e("Yg99"),r=!1;var n=function(t){r||e("xQnp")},o=e("VU/8")(a.a,i.a,!1,n,null,null);o.options.__file="components/posts/LoadMore.vue",s.a=o.exports},aVlU:function(t,s,e){"use strict";var a=e("+Vl3");s.a={props:["post"],filters:{formatDate:function(t){return Object(a.a)(t,"d mmmm, yyyy")}},computed:{routeLink:function(){return"/"+Object(a.a)(this.post.date,"yyyy/mm/")+this.post.slug}}}},blei:function(t,s){},"iW/H":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"post"},[e("nuxt-link",{attrs:{to:t.routeLink}},[e("figure",{staticClass:"image is-3by2"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.post.thumbnail,expression:"post.thumbnail"}],attrs:{alt:t.post.title}})])]),e("div",{staticClass:"post-content"},[e("div",{staticClass:"post-categories"}),e("a",[e("h3",{domProps:{innerHTML:t._s(t.post.title)}})]),e("div",{staticClass:"post-meta"},[t._v("\n        "+t._s(t._f("formatDate")(t.post.date))+" /\n        "),e("a",{staticClass:"post-author",domProps:{innerHTML:t._s(t.post.author.name)}})])])],1)};a._withStripped=!0;var i={render:a,staticRenderFns:[]};s.a=i},tG8p:function(t,s,e){"use strict";var a=e("//Fk"),i=e.n(a);s.a={props:{type:{type:String,default:"main"},slug:{type:String,default:void 0}},data:function(){return{loading:!1}},methods:{loadMore:function(){this.loading=!0;var t=this,s=t.$store,e=t.$api;switch(t.type){case"category":var a=s.getters["entities/categories/query"]().where(function(s){return s.slug==t.slug}).first();return e.fetchPostsByCategory(a.slug,a.page+1).then(function(t){return s.dispatch("entities/posts/insertOrUpdate",{data:t.posts})}).then(function(t){return i.a.all([s.commit("entities/posts/pushToActivePosts",t.posts),s.dispatch("entities/categories/incrementPage",a.id)])}).then(function(){return t.loading=!1}).catch(function(s){return t.loading=!1,console.log(s),alert(s.message)});case"author":var r=s.getters["entities/authors/query"]().where(function(s){return s.slug==t.slug}).first();return e.fetchPostsByAuthor(r.slug,r.page+1).then(function(t){return s.dispatch("entities/posts/insertOrUpdate",{data:t.posts})}).then(function(t){return i.a.all([s.commit("entities/posts/pushToActivePosts",t.posts),s.dispatch("entities/authors/incrementPage",r.id)])}).then(function(){return t.loading=!1}).catch(function(s){return t.loading=!1,console.log(s),alert(s.message)});default:var n=s.state.entities.posts.page;return e.fetchPosts(n+1).then(function(t){return s.dispatch("entities/posts/insert",{data:t})}).then(function(t){return i.a.all([s.commit("entities/posts/setMainPosts",t.posts),s.commit("entities/posts/incrementPage")])}).then(function(){return t.loading=!1}).catch(function(t){console.error(t)})}}}}},uvPf:function(t,s,e){"use strict";var a=e("/5sW"),i=e("L4ZE");s.a={props:["posts"],data:function(){return{categories:{informacao:!1,inspiracao:!1,reflexao:!1,distraccao:!1},n_active_categories:0}},methods:{filterByCat:function(t){this.categories[t]?(a.default.set(this.categories,t,!1),this.n_active_categories--):(a.default.set(this.categories,t,!0),this.n_active_categories++,4==this.n_active_categories&&(this.categories={informacao:!1,inspiracao:!1,reflexao:!1,distraccao:!1},this.n_active_categories=0))}},components:{post:i.a},computed:{loaded:function(){return this.posts.length>0},data:function(){return this.posts},filteredPosts:function(){var t=this.posts;if(0==this.n_active_categories)return t;var s=this;return t.filter(function(t){return t.categories.some(function(t){return t.slug in s.categories&&s.categories[t.slug]})})}}}},vEr0:function(t,s,e){"use strict";var a=e("//Fk"),i=e.n(a),r=e("B94I"),n=e("Z6KV");e("BI4d");s.a={components:{"shifter-filter":r.a,"load-more":n.a},head:function(){var t=this.$store.getters["entities/authors/getActiveAuthor"];return{title:"Shifter | "+t.name+" ",meta:[{hid:"description",name:"description",content:"Shifter | "+t.name}]}},validate:function(t){return"string"==typeof t.params.author},fetch:function(t){var s=t.store,e=t.params,a=t.app,r=t.error,n=e.author,o=s.getters["entities/authors/query"]().where(function(t){return t.slug==n}).first(),c=s.getters["entities/posts/query"]().where(function(t){return t.author==o.id});if(null===o||c.count()<15)return a.$api.fetchPostsByAuthor(n,1).then(function(t){return s.dispatch("entities/posts/insertOrUpdate",{data:t.posts}).then(function(e){return i.a.all([s.commit("entities/posts/setActivePosts",e.posts),s.dispatch("entities/authors/incrementPage",t.author.id),s.commit("entities/authors/setActiveAuthor",t.author)])})}).catch(function(t){r({statusCode:404,message:"Author not found"})});var u=c.get();return i.a.all([s.commit("entities/posts/setActivePosts",u),s.commit("entities/authors/setActiveAuthor",o.id)])},computed:{posts:function(){var t=this.$store.state.entities.posts.activeCollection;return this.$store.getters["entities/posts/query"]().with("author|categories").where(function(s){return-1!=t.indexOf(s.id)}).orderBy("date","desc").get()},author:function(){return this.$store.getters["entities/authors/getActiveAuthor"]}}}},xQnp:function(t,s){}});